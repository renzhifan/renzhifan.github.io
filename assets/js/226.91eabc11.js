(window.webpackJsonp=window.webpackJsonp||[]).push([[226],{640:function(a,s,e){"use strict";e.r(s);var t=e(33),r=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"预先下载软件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#预先下载软件"}},[a._v("#")]),a._v(" 预先下载软件")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.vagrantup.com/downloads.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Vagrant"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://www.virtualbox.org/wiki/Downloads",target:"_blank",rel:"noopener noreferrer"}},[a._v("VirtualBox"),e("OutboundLink")],1)])]),a._v(" "),e("h2",{attrs:{id:"安装-homestead-vagrant-盒子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-homestead-vagrant-盒子"}},[a._v("#")]),a._v(" 安装 Homestead Vagrant 盒子")]),a._v(" "),e("p",[e("code",[a._v("Vagrant")]),a._v(" 安装好了之后，在终端中使用如下命令将 "),e("code",[a._v("Homestead Vagrant")]),a._v(" 盒子 "),e("code",[a._v("laravel/homesterad")]),a._v(" 添加到 "),e("code",[a._v("Vagrant")]),a._v(" 中。下载该盒子将会花费一些时间，具体时间长短主要取决于你的网络连接速度（建议在有梯子的条件下下载）：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("vagrant box "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" laravel/homestead\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://raw.githubusercontent.com/renzhifan/image/master/img/20210125205405.png",alt:""}})]),a._v(" "),e("p",[a._v("如果上述命令执行失败，需要确认 Vagrant 是否是最新版本，如果不是的话更新 Vagrant 到最新版本并升级所有插件。")]),a._v(" "),e("p",[a._v("运行命令会列出一个选择列表，选择 virtualbox 对应选项即可，然后进入漫长的下载等待。下载速度因人而异，如果一直提示网络超时的话只能去 Vagrant 官网下载了：")]),a._v(" "),e("p",[e("a",{attrs:{href:"https://vagrantcloud.com/laravel/boxes/homestead/versions/10.0.0/providers/virtualbox.box",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://vagrantcloud.com/laravel/boxes/homestead/versions/10.0.0/providers/virtualbox.box\n"),e("OutboundLink")],1)]),a._v(" "),e("p",[a._v("通过这种方式下载的话需要手动将盒子添加到 Vagrant：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("vagrant box "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" laravel/homestead ~/Downloads/virtualbox.box\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("blockquote",[e("p",[a._v("推荐使用迅雷进行下载")])]),a._v(" "),e("p",[a._v("运行上述命令有可能报错：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("Check your Homestead.yaml file, the path to your private key does not exist.\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("解决办法如下：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ssh-keygen -t rsa -b "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("4096")]),a._v(" -C "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"your_email@example.com"')]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("eval")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("ssh-agent -s"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v("\nssh-add -K ~/.ssh/id_rsa\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("p",[a._v("再次运行上述命令即可添加成功：")]),a._v(" "),e("h2",{attrs:{id:"安装-homestead"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-homestead"}},[a._v("#")]),a._v(" 安装 Homestead")]),a._v(" "),e("p",[a._v("你可以通过克隆仓库代码来实现 Homestead 安装。将仓库克隆到用户「家」目录下的 "),e("code",[a._v("Homestead")]),a._v(" 目录（没有的话自己创建一个），这样 "),e("code",[a._v("Homestead")]),a._v(" 盒子就可以作为所有 "),e("code",[a._v("Laravel")]),a._v(" 项目的主机：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/laravel/homestead.git Homestead\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("克隆完成后，你需要检查 Homestead 的版本标签，因为 master 分支不会总是稳定版本，你可以在 "),e("a",{attrs:{href:"https://github.com/laravel/homestead/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("GitHub Release Page"),e("OutboundLink")],1),a._v(" 查找到最新稳定版本然后在本地将其检出：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~/Homestead\n\n// 检出指定版本"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout v11.1.2\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("p",[a._v("接下来，在 Homestead 目录下运行 "),e("code",[a._v("bash init.sh")]),a._v(" 命令来创建 "),e("code",[a._v("Homestead.yaml")]),a._v(" 配置文件，生成的 "),e("code",[a._v("Homestead.yaml")]),a._v(" 配置文件文件位于当前 "),e("code",[a._v("Homestead")]),a._v(" 目录：")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("// Mac/Linux"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" init.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("h2",{attrs:{id:"homestead常用命令操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#homestead常用命令操作"}},[a._v("#")]),a._v(" homestead常用命令操作")]),a._v(" "),e("h3",{attrs:{id:"启动虚拟机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动虚拟机"}},[a._v("#")]),a._v(" 启动虚拟机")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("vagrant up\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h3",{attrs:{id:"应用配置并且重启虚拟机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#应用配置并且重启虚拟机"}},[a._v("#")]),a._v(" 应用配置并且重启虚拟机")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("cd ~/Homestead && vagrant provision && vagrant reload\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("vagrant reload --provision\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h3",{attrs:{id:"关闭-homestead"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关闭-homestead"}},[a._v("#")]),a._v(" 关闭 Homestead：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("vagrant halt\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);