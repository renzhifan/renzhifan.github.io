(window.webpackJsonp=window.webpackJsonp||[]).push([[195],{609:function(t,i,_){"use strict";_.r(i);var e=_(33),v=Object(e.a)({},(function(){var t=this,i=t.$createElement,_=t._self._c||i;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("blockquote",[_("p",[t._v("RabbitMQ主题模式(Topic)跟路由模式类似，区别在于主题模式的路由匹配支持通配符模糊匹配，而路由模式仅支持完全匹配。")])]),t._v(" "),_("h2",{attrs:{id:"架构图"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#架构图"}},[t._v("#")]),t._v(" 架构图")]),t._v(" "),_("p",[_("img",{attrs:{src:"https://raw.githubusercontent.com/renzhifan/upic_img/master/uPic/2022/05/16/11-03-47-bHseOG-4TJCuK.jpg",alt:"11-03-47-bHseOG-4TJCuK"}})]),t._v(" "),_("p",[t._v("说明：")]),t._v(" "),_("ul",[_("li",[t._v("1、"),_("code",[t._v("P")]),t._v(" 代表生产者 , "),_("code",[t._v("X")]),t._v(" 代表交换机，"),_("code",[t._v("红色Q1、Q2代表队列")]),t._v("，"),_("code",[t._v("C1、C2 代表消费者")]),t._v("。")]),t._v(" "),_("li",[t._v("2、交换机类型为"),_("code",[t._v("topic")])]),t._v(" "),_("li",[t._v("3、"),_("code",[t._v("topic")]),t._v("交换机转发消息逻辑："),_("strong",[t._v("将消息中的Routing key与该Exchange关联的所有Binding中的Routing key进行模糊匹配，如果匹配，则发送到绑定的Queue中")]),t._v("。")])]),t._v(" "),_("blockquote",[_("p",[t._v("提示：topic模式跟direct模式区别就是"),_("strong",[t._v("Routing key的匹配是否支持通配符模糊匹配")]),t._v("，其他都一样。")])]),t._v(" "),_("p",[t._v("topic支持的通配符如下：")]),t._v(" "),_("ul",[_("li",[t._v('"#" (井号) 匹配一个或多个单词')]),t._v(" "),_("li",[t._v('"*" (星号) 仅匹配一个单词')])]),t._v(" "),_("p",[t._v("如上图：")]),t._v(" "),_("ul",[_("li",[t._v("队列Q1绑定的"),_("code",[t._v("routing key = *.orange.*")])]),t._v(" "),_("li",[t._v("队列Q2绑定的"),_("code",[t._v("routing key = *.*.rabbit和lazy.#")])])]),t._v(" "),_("p",[t._v("如果消息的routing key = “quick.orange.rabbit”, 则匹配Q1和Q2两个队列。")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("示例")])]),t._v(" "),_("li",[_("p",[t._v("发送者：\n"),_("img",{attrs:{src:"https://raw.githubusercontent.com/renzhifan/upic_img/master/uPic/2022/05/16/11-04-13-i8yDDl-ooP9vs.jpg",alt:"11-04-13-i8yDDl-ooP9vs"}})])]),t._v(" "),_("li",[_("p",[t._v("接收者：\n"),_("img",{attrs:{src:"https://raw.githubusercontent.com/renzhifan/upic_img/master/uPic/2022/05/16/11-05-56-ibNcK2-mUGcSg.jpg",alt:"11-05-56-ibNcK2-mUGcSg"}})])])]),t._v(" "),_("blockquote",[_("p",[t._v("提示：如果routing key没有匹配任何队列，则丢弃消息，如果routing key等于空则跟fanout模式一样，直接转发消息给所有队列。")])]),t._v(" "),_("h2",{attrs:{id:"应用场景"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#应用场景"}},[t._v("#")]),t._v(" 应用场景")]),t._v(" "),_("blockquote",[_("p",[t._v("跟路由模式一样，区别就是订阅条件更灵活，即Routing key的匹配规则更灵活。")])])])}),[],!1,null,null,null);i.default=v.exports}}]);